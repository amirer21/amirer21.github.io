---
title: (MultiModal) OpenAIì˜ Function Calling - AIì™€ í˜„ì‹¤ ì„¸ê³„ë¥¼ ì—°ê²°í•˜ëŠ” ë˜‘ë˜‘í•œ ë¹„ì„œ
author_profile: true
read_time: true
comments: true
share: true
related: true
categories:
- AI
- Multimodal
- LLM
- ChatGPT
tags:
- AI
- Multimodal
- LLM
- ChatGPT
toc: true
toc_sticky: true
toc_label: ëª©ì°¨
description: (MultiModal) OpenAIì˜ Function Calling - AIì™€ í˜„ì‹¤ ì„¸ê³„ë¥¼ ì—°ê²°í•˜ëŠ” ë˜‘ë˜‘í•œ ë¹„ì„œ
article_tag1: AI
article_tag2: GPT
article_tag3: LLM
article_section: 
meta_keywords: AI, GPT, LLM, Multimodal
last_modified_at: '2025-04-14 21:00:00 +0800'
---


## OpenAIì˜ Function Calling: AIì™€ í˜„ì‹¤ ì„¸ê³„ë¥¼ ì—°ê²°í•˜ëŠ” ë˜‘ë˜‘í•œ ë¹„ì„œ

OpenAIì˜ **Function Calling**ì€ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸(LLM)ì´ ë¯¸ë¦¬ ì •ì˜ëœ ì™¸ë¶€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬, ì‹¤ì‹œê°„ ì •ë³´ ì¡°íšŒ, ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™, ì™¸ë¶€ ì‹œìŠ¤í…œ ì œì–´ ë“± ë‹¤ì–‘í•œ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê°•ë ¥í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ë‹¨ìˆœíˆ í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì„ ë„˜ì–´, AIê°€ ê°œë°œìê°€ ë§Œë“¤ì–´ ë†“ì€ 'ë„êµ¬'ë¥¼ ì ì¬ì ì†Œì— í™œìš©í•˜ì—¬ ë³´ë‹¤ ì •í™•í•˜ê³  ë™ì ì¸ ë‹µë³€ì„ ìƒì„±í•˜ê²Œ í•´ì£¼ëŠ” í•µì‹¬ ê¸°ìˆ ì´ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### Function Calling, ì™œ í•„ìš”í•œê°€ìš”?

LLMì€ ë°©ëŒ€í•œ í…ìŠ¤íŠ¸ ë°ì´í„°ë¡œ í•™ìŠµí–ˆì§€ë§Œ, ëª‡ ê°€ì§€ ë³¸ì§ˆì ì¸ í•œê³„ë¥¼ ê°€ì§‘ë‹ˆë‹¤.

* **ìµœì‹  ì •ë³´ ë¶€ì¡±:** íŠ¹ì • ì‹œì ê¹Œì§€ì˜ ë°ì´í„°ë¡œ í•™ìŠµí–ˆê¸° ë•Œë¬¸ì—, "ì˜¤ëŠ˜ ì„œìš¸ ë‚ ì”¨ ì–´ë•Œ?"ì™€ ê°™ì€ ì‹¤ì‹œê°„ ì •ë³´ì— ë‹µë³€í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
* **ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ ë¶ˆê°€:** "ë‚´ì¼ 9ì‹œì— íšŒì˜ì‹¤ ì˜ˆì•½í•´ì¤˜"ì²˜ëŸ¼ ê¸°ì—… ë‚´ë¶€ ë°ì´í„°ë² ì´ìŠ¤ë‚˜ ì™¸ë¶€ APIì™€ ì§ì ‘ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
* **ì •í˜• ë°ì´í„° ì¶œë ¥ì˜ ì–´ë ¤ì›€:** ë‹µë³€ì„ ì¼ë°˜ì ì¸ ë¬¸ì¥ í˜•íƒœê°€ ì•„ë‹Œ, íŠ¹ì • JSON í˜•ì‹ìœ¼ë¡œ ë°˜í™˜í•˜ë„ë¡ ì œì–´í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.

**Function Calling**ì€ ì´ëŸ¬í•œ í•œê³„ë¥¼ ê·¹ë³µí•˜ê³  LLMì„ ë‹¨ìˆœí•œ 'ì–¸ì–´ ëª¨ë¸'ì—ì„œ ì‹¤ì§ˆì ì¸ 'ë¬¸ì œ í•´ê²°ì‚¬'ë¡œ ë°œì „ì‹œí‚¤ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.

**ì£¼ìš” ì´ì :**

* **ì™¸ë¶€ ë„êµ¬ ì—°ë™:** ë‚ ì”¨ API, ì£¼ê°€ ì •ë³´ API, ì‚¬ë‚´ ë°ì´í„°ë² ì´ìŠ¤ ë“± ì™¸ë¶€ ì„œë¹„ìŠ¤ì™€ ì—°ê²°í•˜ì—¬ ìµœì‹  ë° ë¹„ê³µê°œ ë°ì´í„°ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* **ì •í˜• ë°ì´í„° ì¶”ì¶œ:** ì‚¬ìš©ìì˜ ìì—°ì–´ ìš”ì²­ì„ ë¶„ì„í•˜ì—¬, ì›í•˜ëŠ” ì •ë³´ë¥¼ ëª…í™•í•œ JSON í˜•ì‹ìœ¼ë¡œ ì¶”ì¶œí•˜ê³  êµ¬ì¡°í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* **ì‘ì—… ìë™í™”:** ì´ë©”ì¼ ì „ì†¡, íšŒì˜ ì¼ì • ë“±ë¡, ìŠ¤ë§ˆíŠ¸í™ˆ ê¸°ê¸° ì œì–´ ë“± ì‹¤ì œì ì¸ ì‘ì—…ì„ ìë™í™”í•˜ëŠ” AI ì—ì´ì „íŠ¸ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

### ì–´ë–»ê²Œ ì‘ë™í•˜ë‚˜ìš”? ğŸ¤–

Function Callingì€ ê°œë°œìì™€ OpenAI ëª¨ë¸ ê°„ì˜ ëª…í™•í•œ ì—­í•  ë¶„ë‹´ì„ í†µí•´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤. ì „ì²´ ê³¼ì •ì€ ë³´í†µ ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ê³„ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.

1.  **í•¨ìˆ˜ ì •ì˜ (ê°œë°œì):** ê°œë°œìëŠ” íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì½”ë“œë¡œ ì‘ì„±í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `get_current_weather(location)`ì™€ ê°™ì€ í•¨ìˆ˜ë¥¼ ë§Œë“­ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ í•¨ìˆ˜ì˜ ì´ë¦„, ê¸°ëŠ¥ ì„¤ëª…, í•„ìš”í•œ ì¸ì(íŒŒë¼ë¯¸í„°) ë“±ì„ ì •í•´ì§„ JSON í˜•ì‹ì— ë§ì¶° OpenAI APIì— ì „ë‹¬í•  'ë„êµ¬(tool)'ë¡œ ì •ì˜í•©ë‹ˆë‹¤.

2.  **ëª¨ë¸ì˜ íŒë‹¨ (OpenAI):** ì‚¬ìš©ìê°€ "íŒŒë¦¬ì˜ í˜„ì¬ ë‚ ì”¨ ì•Œë ¤ì¤˜"ë¼ê³  ì§ˆë¬¸í•˜ë©´, OpenAI ëª¨ë¸ì€ ëŒ€í™”ì˜ ë§¥ë½ê³¼ ë¯¸ë¦¬ ì •ì˜ëœ 'ë„êµ¬' ëª©ë¡ì„ ë³´ê³  `get_current_weather` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤ê³  íŒë‹¨í•©ë‹ˆë‹¤.

3.  **í•¨ìˆ˜ í˜¸ì¶œ ì •ë³´ ë°˜í™˜ (OpenAI):** ëª¨ë¸ì€ í•¨ìˆ˜ë¥¼ ì§ì ‘ ì‹¤í–‰í•˜ëŠ” ëŒ€ì‹ , ì–´ë–¤ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì•¼ í•˜ëŠ”ì§€ì™€ í•´ë‹¹ í•¨ìˆ˜ì— ì „ë‹¬í•  ì¸ì(`{"location": "Paris"}`)ê°€ ë‹´ê¸´ JSON ê°ì²´ë¥¼ ì‘ë‹µìœ¼ë¡œ ë³´ëƒ…ë‹ˆë‹¤.

4.  **í•¨ìˆ˜ ì‹¤í–‰ (ê°œë°œì):** ê°œë°œìëŠ” ëª¨ë¸ì´ ë³´ë‚¸ JSON ì‘ë‹µì„ ë°›ì•„, ì‹¤ì œë¡œ ìì‹ ì˜ ì½”ë“œ í™˜ê²½ì—ì„œ `get_current_weather("Paris")` í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ì™¸ë¶€ ë‚ ì”¨ APIë¥¼ í˜¸ì¶œí•˜ì—¬ ì‹¤ì œ ë‚ ì”¨ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ê²ƒì…ë‹ˆë‹¤.

5.  **ê²°ê³¼ ì „ë‹¬ ë° ìµœì¢… ë‹µë³€ ìƒì„± (ê°œë°œì â†’ OpenAI):** ê°œë°œìëŠ” í•¨ìˆ˜ ì‹¤í–‰ ê²°ê³¼("íŒŒë¦¬ì˜ í˜„ì¬ ê¸°ì˜¨ì€ 22ë„, ë§‘ìŒ")ë¥¼ ë‹¤ì‹œ OpenAI ëª¨ë¸ì—ê²Œ ì „ë‹¬í•©ë‹ˆë‹¤. ëª¨ë¸ì€ ì´ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ "íŒŒë¦¬ì˜ í˜„ì¬ ë‚ ì”¨ëŠ” ë§‘ê³  ê¸°ì˜¨ì€ 22ë„ì…ë‹ˆë‹¤."ì™€ ê°™ì´ ìì—°ìŠ¤ëŸ¬ìš´ ìµœì¢… ë‹µë³€ì„ ìƒì„±í•˜ì—¬ ì „ë‹¬í•©ë‹ˆë‹¤.

#### ê°„ë‹¨í•œ ì˜ˆì‹œ: ë‚ ì”¨ í™•ì¸ ì±—ë´‡

| ë‹¨ê³„ | ì£¼ì²´ | ë‚´ìš© |
| :--- | :--- | :--- |
| **ì‚¬ìš©ì** | | "ì„œìš¸ ë‚ ì”¨ ì–´ë•Œ?" |
| **1. í•¨ìˆ˜ ì •ì˜** | **ê°œë°œì** | `get_weather(location)` í•¨ìˆ˜ì™€ ê·¸ì— ëŒ€í•œ ì„¤ëª…ì„ API ìš”ì²­ì— í¬í•¨ |
| **2. ëª¨ë¸ íŒë‹¨** | **OpenAI** | ì´ ì§ˆë¬¸ì€ `get_weather` í•¨ìˆ˜ê°€ í•„ìš”í•˜ë‹¤ê³  íŒë‹¨ |
| **3. í•¨ìˆ˜ ì •ë³´ ë°˜í™˜** | **OpenAI** | `{ "name": "get_weather", "arguments": { "location": "ì„œìš¸" } }` JSON ë°˜í™˜ |
| **4. í•¨ìˆ˜ ì‹¤í–‰** | **ê°œë°œì** | ìì‹ ì˜ ì„œë²„ì—ì„œ `get_weather("ì„œìš¸")`ì„ ì‹¤í–‰í•˜ê³ , ì‹¤ì œ ë‚ ì”¨ APIì—ì„œ "25ë„, ë§‘ìŒ" ê²°ê³¼ íšë“ |
| **5. ìµœì¢… ë‹µë³€** | **OpenAI** | ê°œë°œìê°€ ì „ë‹¬í•œ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ "í˜„ì¬ ì„œìš¸ì˜ ë‚ ì”¨ëŠ” ë§‘ê³ , ê¸°ì˜¨ì€ 25ë„ì…ë‹ˆë‹¤."ë¼ê³  ë‹µë³€ ìƒì„± |

ì´ì²˜ëŸ¼ Function Callingì€ OpenAI ëª¨ë¸ì˜ ì§€ëŠ¥ì ì¸ íŒë‹¨ë ¥ê³¼ ê°œë°œìì˜ ì‹¤ì œ ì‹¤í–‰ ëŠ¥ë ¥ì„ ê²°í•©í•˜ì—¬, AIê°€ í•  ìˆ˜ ìˆëŠ” ì¼ì˜ ë²”ìœ„ë¥¼ ë¹„ì•½ì ìœ¼ë¡œ í™•ì¥ì‹œí‚¤ëŠ” í•µì‹¬ì ì¸ ê¸°ëŠ¥ì…ë‹ˆë‹¤.

ì—¬ê¸°ì„œëŠ” ì‚¬ìš©ìê°€ íŠ¹ì • ë„ì‹œì˜ ë‚ ì”¨ë¥¼ ë¬»ê±°ë‚˜, íŠ¹ì • íšŒì‚¬ì˜ ì£¼ê°€ë¥¼ ë¬¼ì–´ë³´ë©´ AIê°€ ê·¸ì— ë§ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ë‹µë³€í•˜ëŠ” ê°„ë‹¨í•œ ì±—ë´‡ ì˜ˆì œë¥¼ íŒŒì´ì¬(Python) ì½”ë“œë¡œ ë³´ì—¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

### ì˜ˆì œ ëª©í‘œ: ë‚ ì”¨ì™€ ì£¼ê°€ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ëŠ” AI ì±—ë´‡

  * **ê¸°ëŠ¥ 1:** "ì„œìš¸ ë‚ ì”¨ ì–´ë•Œ?"ë¼ê³  ë¬¼ìœ¼ë©´, í˜„ì¬ ë‚ ì”¨ ì •ë³´ë¥¼ ì•Œë ¤ì¤€ë‹¤.
  * **ê¸°ëŠ¥ 2:** "ì‚¼ì„±ì „ì ì£¼ê°€ ì•Œë ¤ì¤˜"ë¼ê³  ë¬¼ìœ¼ë©´, í˜„ì¬ ì£¼ê°€ë¥¼ ì•Œë ¤ì¤€ë‹¤.

### ì „ì²´ ì½”ë“œ (Python)

```python
# 1. í•„ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
# pip install openai

import os
import json
from openai import OpenAI

# 2. OpenAI API í‚¤ ì„¤ì •
# ì‹¤ì œ ì‚¬ìš© ì‹œì—ëŠ” í™˜ê²½ ë³€ìˆ˜ ë“±ìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.
# os.environ["OPENAI_API_KEY"] = "YOUR_API_KEY"
client = OpenAI()

# 3. ëª¨ë¸ì´ ì‚¬ìš©í•  í•¨ìˆ˜(ë„êµ¬) ì •ì˜
# ì‹¤ì œë¡œëŠ” ì™¸ë¶€ APIë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°íšŒí•´ì•¼ í•˜ì§€ë§Œ,
# ì—¬ê¸°ì„œëŠ” ê°„ë‹¨í•œ ì˜ˆì œë¥¼ ìœ„í•´ ì •í•´ì§„ ê°’ì„ ë°˜í™˜í•˜ëŠ” ê°€ì§œ(dummy) í•¨ìˆ˜ë¥¼ ë§Œë“­ë‹ˆë‹¤.

def get_current_weather(location):
    """íŠ¹ì • ì§€ì—­ì˜ í˜„ì¬ ë‚ ì”¨ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤."""
    print(f"DEBUG: get_current_weather í•¨ìˆ˜ í˜¸ì¶œë¨. location: {location}")
    weather_info = {
        "location": location,
        "temperature": "25",
        "unit": "celsius",
        "forecast": "ë§‘ìŒ",
    }
    return json.dumps(weather_info)

def get_stock_price(company_name):
    """íŠ¹ì • íšŒì‚¬ì˜ í˜„ì¬ ì£¼ì‹ ê°€ê²©ì„ ê°€ì ¸ì˜µë‹ˆë‹¤."""
    print(f"DEBUG: get_stock_price í•¨ìˆ˜ í˜¸ì¶œë¨. company_name: {company_name}")
    stock_info = {
        "company_name": company_name,
        "price": "75,000",
        "currency": "KRW",
    }
    return json.dumps(stock_info)


def run_conversation(user_prompt):
    # 4. ì²« ë²ˆì§¸ API í˜¸ì¶œ: ì‚¬ìš©ìì˜ ì§ˆë¬¸ê³¼ í•¨ìˆ˜ ëª©ë¡ ì „ë‹¬
    
    messages = [{"role": "user", "content": user_prompt}]
    
    # ëª¨ë¸ì—ê²Œ ì œê³µí•  í•¨ìˆ˜(ë„êµ¬) ëª©ë¡
    tools = [
        {
            "type": "function",
            "function": {
                "name": "get_current_weather",
                "description": "Get the current weather in a given location",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "location": {
                            "type": "string",
                            "description": "The city and state, e.g. San Francisco, CA",
                        },
                    },
                    "required": ["location"],
                },
            },
        },
        {
            "type": "function",
            "function": {
                "name": "get_stock_price",
                "description": "Get the current stock price for a given company",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "company_name": {
                            "type": "string",
                            "description": "The name of the company, e.g. Samsung Electronics",
                        }
                    },
                    "required": ["company_name"],
                },
            },
        }
    ]

    print(f"\n>>>> ì‚¬ìš©ì ì§ˆë¬¸: {user_prompt}")
    
    response = client.chat.completions.create(
        model="gpt-4o", # ë˜ëŠ” gpt-3.5-turbo
        messages=messages,
        tools=tools,
        tool_choice="auto",  # ëª¨ë¸ì´ í•¨ìˆ˜ í˜¸ì¶œ ì—¬ë¶€ë¥¼ ìë™ìœ¼ë¡œ ê²°ì •
    )

    response_message = response.choices[0].message
    
    # 5. ëª¨ë¸ì˜ ì‘ë‹µ í™•ì¸ ë° í•¨ìˆ˜ í˜¸ì¶œ ì²˜ë¦¬
    
    # ëª¨ë¸ì´ í•¨ìˆ˜ í˜¸ì¶œì„ ê²°ì •í–ˆëŠ”ì§€ í™•ì¸
    tool_calls = response_message.tool_calls
    if tool_calls:
        print("DEBUG: ëª¨ë¸ì´ í•¨ìˆ˜ í˜¸ì¶œì„ ê²°ì •í–ˆìŠµë‹ˆë‹¤.")
        
        # í˜¸ì¶œí•  í•¨ìˆ˜ì™€ ì¸ì ì •ë³´ ì €ì¥
        available_functions = {
            "get_current_weather": get_current_weather,
            "get_stock_price": get_stock_price,
        }
        
        # ëŒ€í™” ê¸°ë¡ì— ëª¨ë¸ì˜ ì²« ë²ˆì§¸ ì‘ë‹µ(í•¨ìˆ˜ í˜¸ì¶œ ìš”ì²­) ì¶”ê°€
        messages.append(response_message)

        # ëª¨ë“  í•¨ìˆ˜ í˜¸ì¶œ ì‹¤í–‰
        for tool_call in tool_calls:
            function_name = tool_call.function.name
            function_to_call = available_functions[function_name]
            function_args = json.loads(tool_call.function.arguments)
            
            # ì‹¤ì œ í•¨ìˆ˜ ì‹¤í–‰
            function_response = function_to_call(**function_args)
            
            print(f"DEBUG: í•¨ìˆ˜ ì‹¤í–‰ ê²°ê³¼: {function_response}")
            
            # ëŒ€í™” ê¸°ë¡ì— í•¨ìˆ˜ ì‹¤í–‰ ê²°ê³¼ ì¶”ê°€
            messages.append(
                {
                    "tool_call_id": tool_call.id,
                    "role": "tool",
                    "name": function_name,
                    "content": function_response,
                }
            )
        
        # 6. ë‘ ë²ˆì§¸ API í˜¸ì¶œ: í•¨ìˆ˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ í¬í•¨í•˜ì—¬ ìµœì¢… ë‹µë³€ ìš”ì²­
        print("DEBUG: í•¨ìˆ˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìµœì¢… ë‹µë³€ì„ ìš”ì²­í•©ë‹ˆë‹¤.")
        second_response = client.chat.completions.create(
            model="gpt-4o",
            messages=messages,
        )
        final_response = second_response.choices[0].message.content
        print(f"<<<< ìµœì¢… ë‹µë³€: {final_response}")
        return final_response
        
    else:
        # í•¨ìˆ˜ í˜¸ì¶œì´ í•„ìš” ì—†ëŠ” ê²½ìš°, ë°”ë¡œ ë‹µë³€ ì¶œë ¥
        final_response = response_message.content
        print(f"<<<< ìµœì¢… ë‹µë³€: {final_response}")
        return final_response

# --- ì‹¤í–‰ ---
run_conversation("ì˜¤ëŠ˜ ì„œìš¸ ë‚ ì”¨ ì–´ë•Œ?")
run_conversation("ì‚¼ì„±ì „ì ì£¼ê°€ëŠ” ì–¼ë§ˆì•¼?")
run_conversation("ë„ˆëŠ” ëˆ„êµ¬ë‹ˆ?")
```

### ì½”ë“œ í•´ì„¤

1.  **ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ (`pip install openai`)**: OpenAI APIë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ íŒŒì´ì¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.
2.  **API í‚¤ ì„¤ì •**: OpenAI ì„œë¹„ìŠ¤ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ API í‚¤ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
3.  **í•¨ìˆ˜(ë„êµ¬) ì •ì˜**: `get_current_weather`ì™€ `get_stock_price`ë¼ëŠ” ë‘ ê°œì˜ íŒŒì´ì¬ í•¨ìˆ˜ë¥¼ ë§Œë“­ë‹ˆë‹¤. ì´ í•¨ìˆ˜ë“¤ì´ ë°”ë¡œ ëª¨ë¸ì´ ì‚¬ìš©í•  'ë„êµ¬'ì…ë‹ˆë‹¤.
4.  **ì²« ë²ˆì§¸ API í˜¸ì¶œ**:
      * `messages`: ì‚¬ìš©ìì˜ ì§ˆë¬¸ì„ ë‹´ì•„ ì „ë‹¬í•©ë‹ˆë‹¤.
      * `tools`: **ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„**ì…ë‹ˆë‹¤. ìš°ë¦¬ê°€ ì •ì˜í•œ í•¨ìˆ˜ë“¤ì˜ ì´ë¦„(`name`), ê¸°ëŠ¥ ì„¤ëª…(`description`), í•„ìš”í•œ ì¸ì(`parameters`)ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ìì„¸íˆ ê¸°ìˆ í•˜ì—¬ ëª¨ë¸ì—ê²Œ ì•Œë ¤ì¤ë‹ˆë‹¤. ì´ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ëª¨ë¸ì€ ì–´ë–¤ ìƒí™©ì— ì–´ë–¤ í•¨ìˆ˜ë¥¼ ì¨ì•¼ í• ì§€ í•™ìŠµí•©ë‹ˆë‹¤.
      * `tool_choice="auto"`: ëª¨ë¸ì´ ëŒ€í™”ì˜ ë§¥ë½ì— ë”°ë¼ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí• ì§€, ì•„ë‹ˆë©´ ê·¸ëƒ¥ ëŒ€ë‹µí• ì§€ë¥¼ ìŠ¤ìŠ¤ë¡œ ê²°ì •í•˜ê²Œ í•©ë‹ˆë‹¤.
5.  **ëª¨ë¸ ì‘ë‹µ ì²˜ë¦¬**:
      * API ì‘ë‹µì— `tool_calls`ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤ë©´, ê·¸ê²ƒì€ ëª¨ë¸ì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ë‹¬ë¼ê³  ìš”ì²­í–ˆë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.
      * `tool_calls` ì•ˆì—ëŠ” í˜¸ì¶œí•  í•¨ìˆ˜ì˜ ì´ë¦„(`name`)ê³¼ í•„ìš”í•œ ì¸ì(`arguments`)ê°€ ë“¤ì–´ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ "ì„œìš¸ ë‚ ì”¨" ì§ˆë¬¸ì—ëŠ” `{"name": "get_current_weather", "arguments": "{\"location\": \"ì„œìš¸\"}"}` ê³¼ ê°™ì€ ì •ë³´ê°€ ë‹´ê²¨ ìˆìŠµë‹ˆë‹¤.
      * ì½”ë“œëŠ” ì´ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‹¤ì œ `get_current_weather("ì„œìš¸")` í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
6.  **ë‘ ë²ˆì§¸ API í˜¸ì¶œ**:
      * í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ì„œ ì–»ì€ ê²°ê³¼(ì˜ˆ: ë‚ ì”¨ ì •ë³´)ë¥¼ ëŒ€í™” ê¸°ë¡(`messages`)ì— ì¶”ê°€í•©ë‹ˆë‹¤. ì´ë•Œ `role`ì„ `"tool"`ë¡œ ì§€ì •í•˜ì—¬ ì´ê²ƒì´ í•¨ìˆ˜ ì‹¤í–‰ ê²°ê³¼ì„ì„ ëª…í™•íˆ í•©ë‹ˆë‹¤.
      * ì´ ìƒˆë¡œìš´ ëŒ€í™” ê¸°ë¡ì„ ëª¨ë¸ì—ê²Œ ë‹¤ì‹œ ë³´ë‚´ ìµœì¢… ë‹µë³€ì„ ìƒì„±í•˜ë„ë¡ ìš”ì²­í•©ë‹ˆë‹¤. ëª¨ë¸ì€ í•¨ìˆ˜ ê²°ê³¼ë¥¼ ë³´ê³  "í˜„ì¬ ì„œìš¸ì˜ ë‚ ì”¨ëŠ” ë§‘ê³ , ê¸°ì˜¨ì€ 25ë„ì…ë‹ˆë‹¤."ì™€ ê°™ì´ ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ì¥ì„ ë§Œë“¤ì–´ëƒ…ë‹ˆë‹¤.

### ì‹¤í–‰ ê²°ê³¼ ì˜ˆì‹œ

```text
>>>> ì‚¬ìš©ì ì§ˆë¬¸: ì˜¤ëŠ˜ ì„œìš¸ ë‚ ì”¨ ì–´ë•Œ?
DEBUG: ëª¨ë¸ì´ í•¨ìˆ˜ í˜¸ì¶œì„ ê²°ì •í–ˆìŠµë‹ˆë‹¤.
DEBUG: get_current_weather í•¨ìˆ˜ í˜¸ì¶œë¨. location: ì„œìš¸
DEBUG: í•¨ìˆ˜ ì‹¤í–‰ ê²°ê³¼: {"location": "ì„œìš¸", "temperature": "25", "unit": "celsius", "forecast": "ë§‘ìŒ"}
DEBUG: í•¨ìˆ˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìµœì¢… ë‹µë³€ì„ ìš”ì²­í•©ë‹ˆë‹¤.
<<<< ìµœì¢… ë‹µë³€: í˜„ì¬ ì„œìš¸ì˜ ë‚ ì”¨ëŠ” ë§‘ìœ¼ë©°, ê¸°ì˜¨ì€ 25ë„ì…ë‹ˆë‹¤.

>>>> ì‚¬ìš©ì ì§ˆë¬¸: ì‚¼ì„±ì „ì ì£¼ê°€ëŠ” ì–¼ë§ˆì•¼?
DEBUG: ëª¨ë¸ì´ í•¨ìˆ˜ í˜¸ì¶œì„ ê²°ì •í–ˆìŠµë‹ˆë‹¤.
DEBUG: get_stock_price í•¨ìˆ˜ í˜¸ì¶œë¨. company_name: ì‚¼ì„±ì „ì
DEBUG: í•¨ìˆ˜ ì‹¤í–‰ ê²°ê³¼: {"company_name": "ì‚¼ì„±ì „ì", "price": "75,000", "currency": "KRW"}
DEBUG: í•¨ìˆ˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìµœì¢… ë‹µë³€ì„ ìš”ì²­í•©ë‹ˆë‹¤.
<<<< ìµœì¢… ë‹µë³€: ì‚¼ì„±ì „ìì˜ í˜„ì¬ ì£¼ê°€ëŠ” 75,000 KRWì…ë‹ˆë‹¤.

>>>> ì‚¬ìš©ì ì§ˆë¬¸: ë„ˆëŠ” ëˆ„êµ¬ë‹ˆ?
<<<< ìµœì¢… ë‹µë³€: ì €ëŠ” OpenAIì— ì˜í•´ í›ˆë ¨ëœ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì…ë‹ˆë‹¤.
```

ë§ˆì§€ë§‰ "ë„ˆëŠ” ëˆ„êµ¬ë‹ˆ?" ì§ˆë¬¸ì²˜ëŸ¼ í•¨ìˆ˜ í˜¸ì¶œì´ í•„ìš” ì—†ëŠ” ê²½ìš°ì—ëŠ” ëª¨ë¸ì´ `tool_calls` ì—†ì´ ë°”ë¡œ ë‹µë³€ì„ ìƒì„±í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì²˜ëŸ¼ Function Callingì€ AIê°€ í•„ìš”í•  ë•Œë§Œ 'ë„êµ¬'ë¥¼ ì‚¬ìš©í•˜ëŠ” ë˜‘ë˜‘í•œ ë¹„ì„œì²˜ëŸ¼ í–‰ë™í•˜ê²Œ ë§Œë“œëŠ” ê°•ë ¥í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤.